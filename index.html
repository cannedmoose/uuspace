---
layout: default
---
<script>
	// TODO
	// Make the typewriter effect not add letters
	// It should just slowly reveal them
	// Maybe just encode 2 spans
	// First span is visible
	// Second span is invisible text
	// Then we don't reflow text as it goes.
	function clearText() {
		document.querySelectorAll(".typewriter").forEach(el => {
			el.setAttribute("data-text", el.innerText);
			el.innerText = "";
		})
	}

	window.addEventListener('DOMContentLoaded', (event) => {
		if (!window.localStorage.getItem("hideTerminal")) {
			clearText();
		} else {
			document.querySelector(".refresh").classList.remove("hidden");
		}

		document.querySelector(".refresh").addEventListener("click", () => {
			document.querySelector(".refresh").classList.add("hidden");
			window.localStorage.removeItem("hideTerminal");
			clearText();
			typeWriter();
		})
	});

	function typeWriter() {
		let el = document.querySelector(".typewriter");
		if (!el) {
			window.localStorage.setItem("hideTerminal", "true");
			document.querySelector(".refresh").classList.remove("hidden");
			return;
		}
		let cursor = document.querySelector(".cursor");

		let count = parseInt(el.dataset.count || "0");
		let text = el.dataset.text;

		if (count > text.length) {
			console.log("Line done")
			cursor.classList.add("blink");
			// Moving onto next element...
			el.classList.remove("typewriter");

			let endDelay = parseInt(el.dataset.endDelay || "1000");
			// Next callback should happen after a certain amount of time...
			window.setTimeout(typeWriter, endDelay);
		}
		else if (count == 0) {
			console.log("Line start")
			el.setAttribute("data-count", count + 1);
			cursor.classList.add("blink");
			cursor.scrollIntoView(false);
			el.insertAdjacentElement('afterend', cursor)

			let startDelay = parseInt(el.dataset.startDelay || "1500");
			window.setTimeout(typeWriter, startDelay);
		}
		else {
			console.log("letter", count)
			cursor.classList.remove("blink");
			cursor.scrollIntoView(false);
			el.innerText = text.substring(0, count);
			el.setAttribute("data-count", count + 1);
			let letterDelay = parseInt(el.dataset.letterDelay || "50");
			window.setTimeout(typeWriter, letterDelay);
		}
	}
	window.onload = function () {
		// Hack to set --vh to innerHeight * 0.01;
		let vh = window.innerHeight * 0.01;
		document.documentElement.style.setProperty('--vh', `${vh}px`);
		if (!window.localStorage.getItem("hideTerminal")) {
			typeWriter();
			window.localStorage.setItem("hideTerminal", "true");
		}
	}
</script>
<div class="tagline glow">
	<h1><span class="typewriter" data-letter-delay="100">Callan McNamara</span><span
					class="cursor blink">â–ˆ</span>
	</h1>
	<p><span class="glow typewriter" data-end-delay="100" data-letter-delay="10"> I'm a
			Sydney based freelance developer with a passion for creating amazing online
			spaces. I offer
			full service design and development of websites and
			web apps across a range of technologies.</span></p>

	<p><span class="glow typewriter" data-start-delay="2500" data-end-delay="100"
					data-letter-delay="10">
			Interested in working together? Contact </span>
		<a href="/contact"><span class="glow typewriter" data-end-delay="100"
						data-letter-delay="100">me@u-u.space</span></a>
	</p>

	<p><span class="glow typewriter" data-end-delay="100" data-letter-delay="20">I can help
			with</span></p>
	<p><a href="/web-site" class="glow typewriter" data-letter-delay="20">Website Design and
			Development</a></p>
	<p><a href="/web-app" class="glow typewriter" data-letter-delay="20">Web Application
			Development</a></p>
	<p><a href="/infra" class="glow typewriter" data-letter-delay="20">Hosting and Infrastructure
			Management</a></p>
	<p><a href="/analytics" class="glow typewriter" data-letter-delay="20">SEO and Web Analytics</a>
	</p>
</div>
